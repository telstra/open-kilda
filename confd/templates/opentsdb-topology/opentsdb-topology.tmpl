# Generated by confd.
# Do not change this file, all changes will be lost. Change corresponding template.

# topology configuration
config:
  topology.parallelism: {{ getv "/kilda_opentsdb_parallelism" }}
  topology.workers: {{ getv "/kilda_opentsdb_workers" }}
  topology.spouts.parallelism: {{ getv "/kilda_opentsdb_num_spouts" }}

# spout definitions
spouts:
  - id: "input.opentsdb"
    parallelism: {{ getv "/kilda_opentsdb_num_spouts" }}
  - id: "input.victoriametrics"
    parallelism: {{ getv "/kilda_opentsdb_num_spouts" }}
  - id: "zookeeper.spout"
    parallelism: 1

# bolt definitions
bolts:
  - id: "DatapointParseBolt.opentsdb"
    parallelism: {{ getv "/kilda_opentsdb_num_datapointparserbolt" }}
    numTasks: {{ getv "/kilda_opentsdb_workers_datapointparserbolt" }}
  - id: "DatapointParseBolt.victoriametrics"
    parallelism: {{ getv "/kilda_opentsdb_num_datapointparserbolt" }}
    numTasks: {{ getv "/kilda_opentsdb_workers_datapointparserbolt" }}
  - id: "OpenTsdbFilterBolt.opentsdb"
    parallelism: {{ getv "/kilda_opentsdb_num_opentsdbfilterbolt" }}
  - id: "OpenTsdbFilterBolt.victoriametrics"
    parallelism: {{ getv "/kilda_opentsdb_num_opentsdbfilterbolt" }}
  - id: "output.opentsdb"
    parallelism: {{ getv "/kilda_opentsdb_num_output_bolt" }}
    numTasks: {{ getv "/kilda_opentsdb_tasks_output_bolt" }}
  - id: "output.victoriametrics"
    parallelism: {{ getv "/kilda_opentsdb_num_output_bolt" }}
    numTasks: {{ getv "/kilda_opentsdb_tasks_output_bolt" }}
  - id: "zookeeper.bolt"
    parallelism: 1

digraph {
compound=true;
subgraph cluster_StateMachine {
label="org.openkilda.wfm.topology.flowhs.fsm.reroute.FlowRerouteFsm";
OLD_RULES_REMOVED [label="OLD_RULES_REMOVED"];
INITIALIZED [label="INITIALIZED"];
ROLLINGBACK_RULE_INSTALLATION [label="ROLLINGBACK_RULE_INSTALLATION"];
RESOURCES_ALLOCATION_REVERTED [label="RESOURCES_ALLOCATION_REVERTED"];
RESOURCES_DEALLOCATED [label="RESOURCES_DEALLOCATED"];
PATHS_INSTALLATION_COMPLETED [label="PATHS_INSTALLATION_COMPLETED"];
NON_INGRESS_RULES_VALIDATED [label="NON_INGRESS_RULES_VALIDATED"];
NEW_RULES_REMOVED [label="NEW_RULES_REMOVED"];
INSTALLING_NON_INGRESS_RULES [label="INSTALLING_NON_INGRESS_RULES"];
VALIDATING_NON_INGRESS_RULES [label="VALIDATING_NON_INGRESS_RULES"];
PATHS_SWAPPED [label="PATHS_SWAPPED"];
INGRESS_RULES_VALIDATED [label="INGRESS_RULES_VALIDATED"];
NON_INGRESS_RULES_INSTALLED [label="NON_INGRESS_RULES_INSTALLED"];
FINISHED [label="FINISHED"];
MARKING_FLOW_DOWN [label="MARKING_FLOW_DOWN"];
REMOVING_NEW_RULES [label="REMOVING_NEW_RULES"];
FINISHED_WITH_ERROR [label="FINISHED_WITH_ERROR"];
INGRESS_RULES_INSTALLED [label="INGRESS_RULES_INSTALLED"];
REVERTING_ALLOCATED_RESOURCES [label="REVERTING_ALLOCATED_RESOURCES"];
RESOURCES_ALLOCATED [label="RESOURCES_ALLOCATED"];
REMOVING_OLD_RULES [label="REMOVING_OLD_RULES"];
VALIDATING_INGRESS_RULES [label="VALIDATING_INGRESS_RULES"];
PATHS_REMOVAL_COMPLETED [label="PATHS_REMOVAL_COMPLETED"];
INSTALLING_INGRESS_RULES [label="INSTALLING_INGRESS_RULES"];
FLOW_VALIDATED [label="FLOW_VALIDATED"];

OLD_RULES_REMOVED -> PATHS_REMOVAL_COMPLETED [ label="NEXT"];
INITIALIZED -> FLOW_VALIDATED [ label="NEXT"];
INITIALIZED -> FINISHED_WITH_ERROR [ label="TIMEOUT"];
ROLLINGBACK_RULE_INSTALLATION -> REMOVING_NEW_RULES [ label="NEXT"];
RESOURCES_ALLOCATION_REVERTED -> FINISHED_WITH_ERROR [ label="NEXT"];
RESOURCES_ALLOCATION_REVERTED -> FINISHED_WITH_ERROR [ label="ERROR"];
RESOURCES_DEALLOCATED -> FINISHED [ label="NEXT"];
RESOURCES_DEALLOCATED -> FINISHED [ label="ERROR"];
PATHS_INSTALLATION_COMPLETED -> REMOVING_OLD_RULES [ label="NEXT"];
PATHS_INSTALLATION_COMPLETED -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
PATHS_INSTALLATION_COMPLETED -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
NON_INGRESS_RULES_VALIDATED -> PATHS_SWAPPED [ label="NEXT"];
NON_INGRESS_RULES_VALIDATED -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
NON_INGRESS_RULES_VALIDATED -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
NEW_RULES_REMOVED -> REVERTING_ALLOCATED_RESOURCES [ label="NEXT"];
NEW_RULES_REMOVED -> REVERTING_ALLOCATED_RESOURCES [ label="ERROR"];
INSTALLING_NON_INGRESS_RULES -> INSTALLING_NON_INGRESS_RULES [ label="COMMAND_EXECUTED"];
INSTALLING_NON_INGRESS_RULES -> NON_INGRESS_RULES_INSTALLED [ label="RULES_INSTALLED"];
INSTALLING_NON_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
INSTALLING_NON_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
VALIDATING_NON_INGRESS_RULES -> VALIDATING_NON_INGRESS_RULES [ label="COMMAND_EXECUTED"];
VALIDATING_NON_INGRESS_RULES -> NON_INGRESS_RULES_VALIDATED [ label="RULES_VALIDATED"];
VALIDATING_NON_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
VALIDATING_NON_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="MISSING_RULE_FOUND"];
VALIDATING_NON_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
PATHS_SWAPPED -> INSTALLING_INGRESS_RULES [ label="NEXT"];
PATHS_SWAPPED -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
PATHS_SWAPPED -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
INGRESS_RULES_VALIDATED -> PATHS_INSTALLATION_COMPLETED [ label="NEXT"];
INGRESS_RULES_VALIDATED -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
INGRESS_RULES_VALIDATED -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
NON_INGRESS_RULES_INSTALLED -> VALIDATING_NON_INGRESS_RULES [ label="NEXT"];
NON_INGRESS_RULES_INSTALLED -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
NON_INGRESS_RULES_INSTALLED -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
MARKING_FLOW_DOWN -> RESOURCES_ALLOCATION_REVERTED [ label="NEXT"];
REMOVING_NEW_RULES -> REMOVING_NEW_RULES [ label="COMMAND_EXECUTED"];
REMOVING_NEW_RULES -> NEW_RULES_REMOVED [ label="RULES_REMOVED"];
REMOVING_NEW_RULES -> NEW_RULES_REMOVED [ label="ERROR"];
INGRESS_RULES_INSTALLED -> VALIDATING_INGRESS_RULES [ label="NEXT"];
INGRESS_RULES_INSTALLED -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
INGRESS_RULES_INSTALLED -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
REVERTING_ALLOCATED_RESOURCES -> RESOURCES_ALLOCATION_REVERTED [ label="NEXT"];
RESOURCES_ALLOCATED -> INSTALLING_NON_INGRESS_RULES [ label="NEXT"];
RESOURCES_ALLOCATED -> MARKING_FLOW_DOWN [ label="NO_RESOURCES_AVAILABLE"];
RESOURCES_ALLOCATED -> FINISHED [ label="REROUTE_IS_SKIPPED"];
RESOURCES_ALLOCATED -> REVERTING_ALLOCATED_RESOURCES [ label="TIMEOUT"];
RESOURCES_ALLOCATED -> REVERTING_ALLOCATED_RESOURCES [ label="ERROR"];
REMOVING_OLD_RULES -> REMOVING_OLD_RULES [ label="COMMAND_EXECUTED"];
REMOVING_OLD_RULES -> OLD_RULES_REMOVED [ label="RULES_REMOVED"];
REMOVING_OLD_RULES -> OLD_RULES_REMOVED [ label="ERROR"];
VALIDATING_INGRESS_RULES -> VALIDATING_INGRESS_RULES [ label="COMMAND_EXECUTED"];
VALIDATING_INGRESS_RULES -> INGRESS_RULES_VALIDATED [ label="RULES_VALIDATED"];
VALIDATING_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
VALIDATING_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="MISSING_RULE_FOUND"];
VALIDATING_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
PATHS_REMOVAL_COMPLETED -> RESOURCES_DEALLOCATED [ label="NEXT"];
INSTALLING_INGRESS_RULES -> INSTALLING_INGRESS_RULES [ label="COMMAND_EXECUTED"];
INSTALLING_INGRESS_RULES -> INGRESS_RULES_INSTALLED [ label="RULES_INSTALLED"];
INSTALLING_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="TIMEOUT"];
INSTALLING_INGRESS_RULES -> ROLLINGBACK_RULE_INSTALLATION [ label="ERROR"];
FLOW_VALIDATED -> RESOURCES_ALLOCATED [ label="NEXT"];
FLOW_VALIDATED -> FINISHED_WITH_ERROR [ label="TIMEOUT"];
FLOW_VALIDATED -> FINISHED_WITH_ERROR [ label="ERROR"];}}

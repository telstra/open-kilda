digraph {
compound=true;
subgraph cluster_StateMachine {
label="org.openkilda.wfm.topology.flowhs.fsm.FlowCreateFsm";
NonDeletedRulesStored [label="NonDeletedRulesStored"];
InstallingNonIngressRules [label="InstallingNonIngressRules"];
FinishedWithError [label="FinishedWithError"];
Initialized [label="Initialized"];
InstallingIngressRules [label="InstallingIngressRules"];
RemovingRules [label="RemovingRules"];
ValidatingIngressRules [label="ValidatingIngressRules"];
ResourcesAllocated [label="ResourcesAllocated"];
ResourcesDeAllocated [label="ResourcesDeAllocated"];
ValidatingRemovedRules [label="ValidatingRemovedRules"];
FlowValidated [label="FlowValidated"];
ValidatingNonIngressRules [label="ValidatingNonIngressRules"];
Finished [label="Finished"];

NonDeletedRulesStored -> ResourcesDeAllocated [ label="Next"];
InstallingNonIngressRules -> InstallingNonIngressRules [ label="RuleInstalled"];
InstallingNonIngressRules -> ValidatingNonIngressRules [ label="Next"];
InstallingNonIngressRules -> RemovingRules [ label="Timeout"];
InstallingNonIngressRules -> RemovingRules [ label="Error"];
Initialized -> FlowValidated [ label="Next"];
Initialized -> FinishedWithError [ label="Error"];
InstallingIngressRules -> InstallingIngressRules [ label="RuleInstalled"];
InstallingIngressRules -> ValidatingIngressRules [ label="Next"];
InstallingIngressRules -> RemovingRules [ label="Timeout"];
InstallingIngressRules -> RemovingRules [ label="Error"];
RemovingRules -> RemovingRules [ label="RuleDeleted"];
RemovingRules -> ValidatingRemovedRules [ label="Next"];
RemovingRules -> NonDeletedRulesStored [ label="Timeout"];
RemovingRules -> NonDeletedRulesStored [ label="Error"];
ValidatingIngressRules -> ValidatingIngressRules [ label="RuleValidated"];
ValidatingIngressRules -> Finished [ label="Next"];
ValidatingIngressRules -> RemovingRules [ label="Timeout"];
ValidatingIngressRules -> RemovingRules [ label="Error"];
ResourcesAllocated -> InstallingNonIngressRules [ label="Next"];
ResourcesDeAllocated -> FinishedWithError [ label="Next"];
ValidatingRemovedRules -> ValidatingRemovedRules [ label="RuleDeletedConfirmation"];
ValidatingRemovedRules -> ResourcesDeAllocated [ label="Next"];
ValidatingRemovedRules -> NonDeletedRulesStored [ label="Timeout"];
ValidatingRemovedRules -> NonDeletedRulesStored [ label="Error"];
FlowValidated -> ResourcesAllocated [ label="Next"];
FlowValidated -> ResourcesDeAllocated [ label="Timeout"];
FlowValidated -> FinishedWithError [ label="Error"];
ValidatingNonIngressRules -> ValidatingNonIngressRules [ label="RuleValidated"];
ValidatingNonIngressRules -> InstallingIngressRules [ label="Next"];
ValidatingNonIngressRules -> RemovingRules [ label="Timeout"];
ValidatingNonIngressRules -> InstallingNonIngressRules [ label="Error"];}}
